(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{937:(e,t,s)=>{"use strict";s.d(t,{ThreePanelLayout:()=>e0});var a=s(5155),r=s(2115),n=s(9397),i=s(4616),l=s(7924),o=s(4020),c=s(1362),d=s(1497),m=s(4126),u=s(760),x=s(2605),p=s(1154);function h(e){let{icon:t,className:s="",size:r=20,animate:n="none",delay:i=0,onClick:l,isActive:o=!1,disabled:c=!1,title:d}=e,m="transition-colors duration-200 ".concat(s),u=(0,a.jsx)(t,{size:r,className:"".concat(o?"text-primary":""," ").concat(c?"opacity-50":"")});if("none"===n&&!l)return(0,a.jsx)("div",{className:m,title:d,children:u});let p=(()=>{if("none"===n)return{};switch(n){case"bounce":return{animate:{y:[0,-8,0]},transition:{duration:.6,repeat:1/0,repeatDelay:1,ease:"easeInOut"}};case"pulse":return{animate:{scale:[1,1.1,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}};case"spin":return{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"}};case"scale":return{animate:{scale:[1,1.2,1]},transition:{duration:.3,ease:"easeInOut"}};case"shake":return{animate:{x:[0,-2,2,-2,2,0]},transition:{duration:.4,ease:"easeInOut"}};case"float":return{animate:{y:[0,-6,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}};case"glow":return{animate:{filter:["drop-shadow(0 0 0px hsl(var(--primary)))","drop-shadow(0 0 8px hsl(var(--primary) / 0.6))","drop-shadow(0 0 0px hsl(var(--primary)))"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}};default:return{}}})();return(0,a.jsx)(x.P.div,{className:"".concat(m," ").concat(l?"cursor-pointer":""),...p,whileHover:l&&!c?{scale:1.1}:void 0,whileTap:l&&!c?{scale:.95}:void 0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,...p.animate},transition:{opacity:{duration:.3,delay:i},scale:{duration:.3,delay:i}},onClick:c?void 0:l,title:d,children:u})}function g(e){let{className:t="",size:s=20}=e;return(0,a.jsx)(h,{icon:p.A,className:t,size:s,animate:"spin"})}function f(e){let{className:t="",size:s=16}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-1 ".concat(t),children:[(0,a.jsx)(x.P.div,{className:"w-1 h-1 bg-primary rounded-full",animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:0}}),(0,a.jsx)(x.P.div,{className:"w-1 h-1 bg-primary rounded-full",animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:.2}}),(0,a.jsx)(x.P.div,{className:"w-1 h-1 bg-primary rounded-full",animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:.4}})]})}let v=[{id:"1",title:"Getting started with AI",lastMessage:"How can I use AI in my project?",date:"Today",isActive:!0},{id:"2",title:"Web development tips",lastMessage:"What are the best practices for React?",date:"Yesterday"},{id:"3",title:"Machine learning basics",lastMessage:"Can you explain how neural networks work?",date:"Jul 10"},{id:"4",title:"Design systems",lastMessage:"How do I create a consistent design system?",date:"Jul 8"}];function j(){let[e,t]=(0,r.useState)(v);return(0,a.jsx)("div",{className:"py-2",children:(0,a.jsx)(u.N,{children:e.map((s,r)=>(0,a.jsx)(x.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20,height:0},transition:{duration:.3,delay:.05*r,ease:"easeOut"},layout:!0,className:"flex items-start justify-between px-3 py-2 cursor-pointer hover:bg-accent/10 rounded-lg transition-colors group ".concat(s.isActive?"bg-accent/10":""),whileHover:{scale:1.01,x:2},whileTap:{scale:.99},onClick:()=>{t(e.map(e=>({...e,isActive:e.id===s.id}))),console.log("Selected conversation:",s.title)},children:(0,a.jsxs)("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"flex-shrink-0 pt-1",children:(0,a.jsx)(h,{icon:d.A,size:20,className:"text-primary",animate:s.isActive?"pulse":"none"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",children:s.title}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:s.lastMessage})]}),(0,a.jsxs)("div",{className:"flex-shrink-0 flex flex-col items-end",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:s.date}),(0,a.jsxs)("div",{className:"flex mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)("button",{className:"p-1 hover:bg-muted rounded-full transition-colors",onClick:a=>{var r;a.stopPropagation(),r=s.id,t(e.filter(e=>e.id!==r)),console.log("Deleted conversation:",r)},title:"Delete conversation",children:(0,a.jsx)(h,{icon:m.A,size:14,className:"text-muted-foreground hover:text-destructive",animate:"shake"})}),(0,a.jsx)("button",{className:"p-1 hover:bg-muted rounded-full transition-colors",onClick:e=>{e.stopPropagation(),console.log("More options for:",s.title)},title:"More options",children:(0,a.jsx)(h,{icon:o.A,size:14,className:"text-muted-foreground",animate:"bounce"})})]})]})]})},s.id))})})}var b=s(5040),y=s(4738),N=s(7434),w=s(4213),k=s(1539);let C=[{id:"1",name:"Deep Research",description:"For in-depth analysis and research",icon:(0,a.jsx)(b.A,{className:"h-5 w-5 text-blue-500"})},{id:"2",name:"Web Creator",description:"Design and build web experiences",icon:(0,a.jsx)(y.A,{className:"h-5 w-5 text-green-500"}),isActive:!0},{id:"3",name:"AI Writer",description:"Generate creative content and copy",icon:(0,a.jsx)(N.A,{className:"h-5 w-5 text-purple-500"})},{id:"4",name:"Data Analyst",description:"Analyze and visualize data",icon:(0,a.jsx)(w.A,{className:"h-5 w-5 text-yellow-500"})},{id:"5",name:"AI Slides",description:"Create presentation slides",icon:(0,a.jsx)(k.A,{className:"h-5 w-5 text-orange-500"})}];function S(){let[e,t]=(0,r.useState)(C);return(0,a.jsx)("div",{className:"py-2",children:e.map(s=>(0,a.jsxs)("div",{className:"flex items-start px-3 py-2 cursor-pointer hover:bg-accent/10 rounded-lg transition-colors ".concat(s.isActive?"bg-accent/10":""),onClick:()=>{var a,r;return a=s.id,void(t(e.map(e=>({...e,isActive:e.id===a}))),console.log("Selected agent:",null==(r=e.find(e=>e.id===a))?void 0:r.name))},children:[(0,a.jsx)("div",{className:"flex-shrink-0 pt-1 mr-3",children:s.icon}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:s.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:s.description})]})]},s.id))})}var A=s(7650),M=s(2098),P=s(3509),_=s(3052),L=s(5196),z=s(381),T=s(2713),E=s(1007),I=s(9947),R=s(4835);let F=[{id:"light",name:"Light",icon:M.A},{id:"dark",name:"Dark",icon:P.A}];function O(e){var t;let{isOpen:s,position:n,theme:i,setTheme:l,onClose:o,onOpenSettings:c,onOpenUsage:d}=e,[m,u]=(0,r.useState)(!1),x=(0,r.useRef)(null),p=(0,r.useRef)(null),h=(null==(t=F.find(e=>e.id===i))?void 0:t.icon)||M.A,g=e=>{switch(e){case"settings":c&&c(),o();break;case"usage":d&&d(),o();break;case"logout":console.log("Logging out..."),o();break;default:console.log("".concat(e," clicked")),o()}};if((0,r.useEffect)(()=>{let e=e=>{s&&x.current&&!x.current.contains(e.target)&&o()};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s,o]),(0,r.useEffect)(()=>()=>{p.current&&clearTimeout(p.current)},[]),(0,r.useEffect)(()=>{if(s&&x.current){let e=x.current.offsetHeight;x.current.style.top="".concat(n.top-e-8,"px"),x.current.style.right="".concat(n.right,"px")}},[s,n]),!s)return null;let f=(0,a.jsxs)("div",{ref:x,className:"fixed w-60 panel-modal border-border/30 border shadow-2xl z-50 animate-fade-in p-1.5",onMouseLeave:()=>{p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{u(!1)},300)},children:[(0,a.jsx)("div",{className:"p-4 mb-1 border-b border-border/20 bg-muted/30 rounded-t-xl",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold mr-3 shadow-md",children:"U"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:"User"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"user@example.com"})]})]})}),(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsxs)("div",{className:"relative px-4 py-2 flex items-center justify-between hover:bg-accent/30 rounded cursor-pointer transition-all duration-200",onMouseEnter:()=>{p.current&&clearTimeout(p.current),u(!0)},children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h,{size:16,className:"mr-3 text-muted-foreground"}),(0,a.jsxs)("span",{className:"text-foreground",children:["light"===i?"Light":"Dark"," Theme"]})]}),(0,a.jsx)(_.A,{size:16,className:"text-muted-foreground"}),m&&(0,a.jsx)("div",{className:"absolute left-full top-0 w-48 surface-overlay border-border/30 border rounded-lg shadow-2xl ml-2 overflow-hidden animate-fade-in",onMouseEnter:()=>{p.current&&clearTimeout(p.current)},children:F.map(e=>(0,a.jsxs)("div",{className:"px-4 py-2 flex items-center justify-between hover:bg-accent/30 cursor-pointer transition-all duration-200",onClick:()=>{l(e.id),u(!1),o()},children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(e.icon,{size:16,className:"mr-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-foreground",children:e.name})]}),i===e.id&&(0,a.jsx)(L.A,{size:16,className:"text-primary"})]},e.id))})]}),(0,a.jsxs)("div",{className:"px-4 py-2 flex items-center hover:bg-accent/30 rounded cursor-pointer transition-all duration-200",onClick:()=>g("settings"),children:[(0,a.jsx)(z.A,{size:16,className:"mr-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-foreground",children:"Settings"})]}),(0,a.jsxs)("div",{className:"px-4 py-2 flex items-center hover:bg-accent/30 rounded cursor-pointer transition-all duration-200",onClick:()=>g("usage"),children:[(0,a.jsx)(T.A,{size:16,className:"mr-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-foreground",children:"Usage Tracking"})]}),(0,a.jsxs)("div",{className:"px-4 py-2 flex items-center hover:bg-accent/30 rounded cursor-pointer transition-all duration-200",onClick:()=>g("account"),children:[(0,a.jsx)(E.A,{size:16,className:"mr-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-foreground",children:"Account"})]}),(0,a.jsxs)("div",{className:"px-4 py-2 flex items-center hover:bg-accent/30 rounded cursor-pointer transition-all duration-200",onClick:()=>g("help"),children:[(0,a.jsx)(I.A,{size:16,className:"mr-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-foreground",children:"Help"})]}),(0,a.jsx)("div",{className:"mt-1 pt-1 border-t border-border/20 bg-muted/20",children:(0,a.jsxs)("div",{className:"px-4 py-2 flex items-center hover:bg-accent/30 rounded cursor-pointer transition-all duration-200 text-red-500",onClick:()=>g("logout"),children:[(0,a.jsx)(R.A,{size:16,className:"mr-3"}),(0,a.jsx)("span",{children:"Log out"})]})})]})]});return(0,A.createPortal)(f,document.body)}var q=s(2596),D=s(9688);function U(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,D.QP)((0,q.$)(t))}function W(e){let{onOpenSettings:t,onNewConversation:s}=e,{theme:n,setTheme:d}=(0,c.D)(),[m,u]=(0,r.useState)(""),[x,p]=(0,r.useState)("chat"),[h,g]=(0,r.useState)(!1),[f,v]=(0,r.useState)(!1),[b,y]=(0,r.useState)({top:0,right:0}),N=(0,r.useRef)(null);return(0,a.jsxs)("div",{className:"h-screen flex flex-col bg-card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[(0,a.jsx)("h1",{className:"text-lg font-semibold",children:"FereeLAB"}),(0,a.jsx)("button",{onClick:()=>{g(!h),console.log("Toggle button clicked:",h?"OFF":"ON")},className:U("p-2 rounded-full transition-all duration-200",h?"bg-primary text-primary-foreground":"hover:bg-muted text-muted-foreground"),title:h?"Turn off":"Turn on",children:(0,a.jsx)("div",{className:U("w-3 h-3 rounded-full border-2 transition-colors",h?"bg-primary-foreground border-primary-foreground":"border-current")})})]}),(0,a.jsx)("div",{className:"p-3",children:(0,a.jsxs)("button",{className:"w-full flex items-center justify-between rounded-lg bg-primary px-4 py-2 text-primary-foreground hover:bg-primary/90 transition-colors",onClick:()=>{null==s||s(),console.log("New Chat button clicked")},children:[(0,a.jsx)("span",{className:"font-medium",children:"New Chat"}),(0,a.jsx)(i.A,{className:"w-4 h-4"})]})}),(0,a.jsx)("div",{className:"px-3 pb-2",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)("input",{type:"text",placeholder:"Search chats...",className:"w-full rounded-md border border-input bg-background pl-10 pr-4 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring",value:m,onChange:e=>{u(e.target.value),console.log("Searching for:",e.target.value)}})]})}),(0,a.jsxs)("div",{className:"flex border-b border-border",children:[(0,a.jsx)("button",{className:U("flex-1 py-2 text-sm font-medium transition-colors border-b-2","chat"===x?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>{p("chat"),console.log("Switched to Chat section")},children:"Chat"}),(0,a.jsx)("button",{className:U("flex-1 py-2 text-sm font-medium transition-colors border-b-2","agents"===x?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>{p("agents"),console.log("Switched to Agents section")},children:"Agents"})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:"chat"===x?(0,a.jsx)(j,{}):(0,a.jsx)(S,{})}),(0,a.jsx)("div",{className:"p-3 border-t border-border",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-medium",children:"U"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"User"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Free Plan"})]})]}),(0,a.jsx)("button",{ref:N,onClick:()=>{if(N.current){let e=N.current.getBoundingClientRect();y({top:e.top,right:window.innerWidth-e.right})}v(!f)},className:"p-1 rounded-full hover:bg-muted transition-colors",children:(0,a.jsx)(o.A,{className:"w-5 h-5 text-muted-foreground"})})]})}),(0,a.jsx)(O,{isOpen:f,position:b,theme:"dark"===n?"dark":"light",setTheme:e=>d(e),onClose:()=>v(!1),onOpenSettings:()=>{v(!1),null==t||t()}})]})}var H=s(2278),$=s(4783),B=s(6287),G=s(3314),J=s(3311),K=s(6516);let Y={default:"btn-flat hover-lift",primary:"btn-raised btn-ripple hover-glow",secondary:"btn-flat hover-lift",ghost:"btn-ghost hover-lift",minimal:"btn-minimal hover-lift",glass:"glass-medium rounded-xl hover-lift hover-glow"},Q={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},V={tap:{scale:.95},hover:{scale:1.02}};function X(e){let{children:t,icon:s,iconPosition:r="left",iconAnimation:n="none",variant:i="default",size:l="md",disabled:o=!1,loading:c=!1,onClick:d,className:m="",title:u,ripple:p=!1,glow:g=!1,lift:f=!0}=e,v="\n    inline-flex items-center justify-center gap-2 font-medium transition-all duration-200\n    ".concat(Y[i],"\n    ").concat(Q[l],"\n    ").concat(f&&!o?"hover-lift":"","\n    ").concat(g&&!o?"hover-glow":"","\n    ").concat(p&&!o?"btn-ripple":"","\n    ").concat(o?"opacity-50 cursor-not-allowed":"cursor-pointer","\n    ").concat(m,"\n  "),j=s?(0,a.jsx)(h,{icon:s,size:"sm"===l?16:"lg"===l?20:18,animate:c?"spin":n,disabled:o}):null,b=(0,a.jsxs)(a.Fragment,{children:["left"===r&&j,t&&(0,a.jsx)("span",{children:t}),"right"===r&&j]});return o||!d?(0,a.jsx)("div",{className:v,title:u,children:b}):(0,a.jsx)(x.P.button,{className:v,onClick:d,disabled:o||c,title:u,whileHover:o||c?void 0:V.hover,whileTap:o||c?void 0:V.tap,animate:c?{scale:[1,1.05,1]}:{opacity:1,y:0},initial:{opacity:0,y:10},transition:c?{duration:1,repeat:1/0,ease:"easeInOut"}:{duration:.3,ease:"easeOut"},children:b})}function Z(e){return(0,a.jsx)(X,{...e,variant:"primary",ripple:!0,glow:!0})}function ee(e){return(0,a.jsx)(X,{...e,variant:"minimal"})}function et(e){let{title:t,currentModel:s,onToggleModelPanel:n,onNewConversation:i,onToggleSidebar:l,isSidebarOpen:o,onUserMenuToggle:d}=e,{theme:m,setTheme:u}=(0,c.D)(),[p,g]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{g(!0)},[]),(0,a.jsxs)(x.P.div,{className:"flex items-center justify-between p-4 border-b border-border/50 bg-gradient-to-r from-background via-surface-subtle to-background surface-raised",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(ee,{icon:o?H.A:$.A,onClick:l,title:o?"Collapse Sidebar":"Expand Sidebar",iconAnimation:"scale"}),(0,a.jsx)(x.P.h2,{className:"text-lg font-semibold truncate text-heading",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1},children:t}),(0,a.jsx)(ee,{icon:B.A,iconAnimation:"bounce",title:"Edit conversation title"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[s&&(0,a.jsxs)(x.P.button,{onClick:n,className:"card-interactive px-3 py-1.5 rounded-full flex items-center gap-2",title:"Change model",whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.2},children:[(0,a.jsx)("span",{className:"text-sm",children:s.icon}),(0,a.jsx)(h,{icon:G.A,size:12,className:"text-primary",animate:"pulse"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:s.name}),(0,a.jsx)("span",{className:"hidden md:inline text-xs text-muted-foreground border-l border pl-2 ml-1",children:s.provider.name})]}),(0,a.jsx)(Z,{icon:J.A,onClick:i,title:"Start new conversation",iconAnimation:"glow",size:"md",className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"text-sm font-medium",children:"New Chat"})}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[p?(0,a.jsx)(ee,{icon:"dark"===m?M.A:P.A,onClick:()=>{u("dark"===m?"light":"dark")},title:"dark"===m?"Switch to Light Mode":"Switch to Dark Mode",iconAnimation:"float"}):(0,a.jsx)("div",{className:"btn-minimal",children:(0,a.jsx)("div",{className:"h-5 w-5"})}),(0,a.jsx)(ee,{icon:K.A,iconAnimation:"bounce",title:"Share conversation"})]})]})]})}var es=s(4416),ea=s(492),er=s(4498),en=s(2486),ei=s(5958);let el=e=>e&&""!==e.trim()?Math.max(Math.ceil(e.length/4),Math.ceil(1.3*e.trim().split(/\s+/).length)):0;var eo=s(3417),ec=s(463);let ed=[{icon:d.A,text:"Explain quantum computing in simple terms",category:"Educational"},{icon:eo.A,text:"What are the best practices for writing clean code?",category:"Programming"},{icon:N.A,text:"Generate a business plan for a tech startup",category:"Business"},{icon:ec.A,text:"Help me brainstorm creative solutions for reducing plastic waste",category:"Creative"}];function em(e){let{onSuggestionClick:t,isVisible:s=!0,isFloating:r=!1}=e;return s?(0,a.jsx)(u.N,{children:(0,a.jsxs)(x.P.div,{className:"space-y-3 ".concat(r?"backdrop-blur-xl bg-background/90 border border-border/50 rounded-2xl p-4 shadow-2xl shadow-black/10 dark:shadow-black/25":""),initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[(0,a.jsxs)(x.P.div,{className:"flex items-center gap-2 text-sm text-muted-foreground",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[(0,a.jsx)(h,{icon:ec.A,size:16,animate:"glow",className:"text-primary"}),(0,a.jsx)("span",{children:"Suggested prompts"})]}),(0,a.jsx)(x.P.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-3",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},children:ed.map((e,s)=>{let r=e.icon;return(0,a.jsx)(x.P.div,{variants:{hidden:{opacity:0,y:20,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:20}}},children:(0,a.jsxs)(x.P.button,{onClick:()=>{t(e.text),console.log("Clicked prompt suggestion:",e.text)},className:"group flex items-start gap-3 p-4 rounded-xl border-border border hover:border-primary/50 hover:bg-muted/50 transition-all duration-200 text-left h-20 w-full",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:20},children:[(0,a.jsx)(x.P.div,{className:"flex-shrink-0 p-2 rounded-lg bg-muted group-hover:bg-primary/10 transition-colors",whileHover:{rotate:5},children:(0,a.jsx)(h,{icon:r,size:20,animate:"float",className:"text-muted-foreground group-hover:text-primary transition-colors"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-foreground group-hover:text-primary transition-colors line-clamp-2",children:e.text}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.category})]})]})},s)})})]})}):null}function eu(e){let{onSendMessage:t,selectedModel:s,replyTo:i,onCancelReply:l,onToggleCanvas:o,isCanvasOpen:c,isFloating:d=!1,isNewConversation:m=!1}=e,[u,p]=(0,r.useState)(""),[h,v]=(0,r.useState)(!0),[j,b]=(0,r.useState)(null),[y,N]=(0,r.useState)(!1),[w,C]=(0,r.useState)(!1),[S,A]=(0,r.useState)(!1),[M,P]=(0,r.useState)(!1),[_,L]=(0,r.useState)(!1),z=(0,r.useRef)(null),T=(0,r.useRef)(null),E=el(u),I=(null==s?void 0:s.context_length)||4e3,R=E>.8*I,F=s?((e,t,s)=>{let a=el(e),r=a/1e3*t;return{tokenCount:a,inputCost:r,outputCost:s?a/1e3*s:0,totalCost:r+(s?a/1e3*s:0)}})(u,s.inputPrice||0):{tokenCount:0,inputCost:0,totalCost:0},O=async()=>{(u.trim()||j)&&(L(!0),P(!1),await new Promise(e=>setTimeout(e,300)),t(u,j),p(""),b(null),v(!1),q(),L(!1))},q=()=>{i&&(A(!1),C(!1),setTimeout(()=>{null==l||l()},300))};(0,r.useEffect)(()=>{i&&z.current?(C(!0),setTimeout(()=>{A(!0)},300),z.current.focus()):(C(!1),A(!1))},[i]),(0,r.useEffect)(()=>{z.current&&z.current.focus()},[]);let D=h&&!u.trim()&&!i,U=u.trim()||j;return(0,a.jsx)("div",{className:d?"":"border-t border p-4",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-3 ".concat(d?"w-full relative":"max-w-3xl mx-auto"),children:[i&&(0,a.jsx)("div",{className:"\n            glass-overlay-medium gradient-overlay-subtle transition-all duration-300 rounded-xl p-4\n            ".concat(w?"animate-reply-panel-show":"animate-reply-panel-hide","\n            ").concat(S?"animate-reply-panel-glow":"","\n          "),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"text-xs text-caption mb-1",children:["Replying to ","user"===i.role?"your message":"assistant"]}),(0,a.jsxs)("div",{className:"text-sm text-body italic opacity-80",children:["“",i.content.length>100?i.content.substring(0,100)+"...":i.content,"”"]})]}),(0,a.jsx)(ee,{icon:es.A,onClick:q,className:"flex-shrink-0",iconAnimation:"scale",title:"Cancel reply"})]})}),j&&(0,a.jsx)(x.P.div,{className:"glass-overlay-light rounded-xl p-4 gradient-overlay-subtle",initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.3,ease:"easeOut"},children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-xs text-caption mb-1",children:"Attached file"}),(0,a.jsx)("div",{className:"text-sm text-foreground font-medium truncate text-heading",children:j.name}),(0,a.jsxs)("div",{className:"text-xs text-caption",children:[(j.size/1024/1024).toFixed(2)," MB"]})]}),(0,a.jsx)(ee,{icon:es.A,onClick:()=>{b(null),T.current&&(T.current.value="")},className:"flex-shrink-0",iconAnimation:"scale",title:"Remove file"})]})}),d&&!i&&D&&!m&&(0,a.jsx)(em,{onSuggestionClick:e=>{p(e),v(!1),z.current&&z.current.focus()},isFloating:!0}),(0,a.jsxs)("div",{className:"\n          depth-transition glass-border-gradient\n          ".concat(d?"glass-panel-floating p-6 depth-4":"glass-input-bar p-3 depth-1","\n        "),children:[(0,a.jsxs)("div",{className:"flex items-end gap-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-1",children:(0,a.jsx)(ee,{icon:k.A,onClick:()=>{N(!y)},iconAnimation:y?"glow":"pulse",title:"Prompt suggestions",className:"transition-all duration-200 ".concat(y?"text-primary bg-primary/10":"")})}),(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(ei.A,{ref:z,value:u,onChange:e=>{p(e.target.value),P(e.target.value.length>0)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),O()),"Escape"===e.key&&i&&q(),!M&&u.length>0&&P(!0)},onBlur:()=>P(!1),placeholder:"Ask anything...",className:"w-full resize-none bg-transparent focus:outline-none placeholder:text-muted-foreground transition-all duration-300 text-base py-2 text-body ".concat(R?"text-destructive":"text-foreground"),minRows:1,maxRows:6}),M&&u.trim()&&(0,a.jsx)(x.P.div,{className:"absolute right-2 top-2",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:(0,a.jsx)(f,{className:"text-primary"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ee,{icon:ea.A,onClick:()=>{var e;return null==(e=T.current)?void 0:e.click()},iconAnimation:"bounce",title:"Attach file",className:"hover-lift"}),(0,a.jsx)("input",{ref:T,type:"file",onChange:e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];s&&b(s)},className:"hidden",accept:"image/*,text/*,.pdf,.doc,.docx"}),o&&(0,a.jsx)(ee,{icon:er.A,onClick:o,iconAnimation:c?"float":"scale",title:"Toggle Canvas",className:c?"text-primary bg-primary/10":""}),(0,a.jsx)(Z,{icon:_?void 0:en.A,onClick:O,disabled:(!U||R)&&!_,loading:_,title:_?"Sending...":"Send message",size:"md",className:"min-w-[40px]",children:_&&(0,a.jsx)(g,{size:16})})]})]}),(!d||u.trim()||R)&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-caption mt-2 pt-2 border-t border-border/20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("span",{className:"flex items-center ".concat(R?"text-destructive":""),children:[(0,a.jsx)(n.A,{className:"h-3 w-3 mr-1"}),E.toLocaleString(),I&&" / ".concat(Math.floor(.8*I).toLocaleString())]}),F.inputCost>0&&(0,a.jsxs)("span",{children:["~$",F.inputCost.toFixed(4)]})]}),(0,a.jsx)("div",{className:"text-xs",children:s?s.name:"No model"})]})]})]})})}var ex=s(8832),ep=s(4357),eh=s(333),eg=s(5580),ef=s(3904);function ev(e){let{message:t,isFirst:s,onEdit:n,onRegenerate:i,onReply:l,onFeedback:o,replyActive:c=!1}=e,[m,u]=(0,r.useState)(!1),[p,g]=(0,r.useState)(null),[f,v]=(0,r.useState)(!1),[j,b]=(0,r.useState)(t.content),[y,N]=(0,r.useState)(!1),[w,k]=(0,r.useState)(""),[C,S]=(0,r.useState)(!1),[A,M]=(0,r.useState)(""),P=(0,r.useRef)(null),_=(0,r.useRef)(null),z="user"===t.role,T=t.tokens||el(t.content);(0,r.useEffect)(()=>{if(t.animate||s){M(z?"message-slide-in-user":"message-slide-in-bot"),setTimeout(()=>M(""),500),k(""),S(!0);let e=0,s=setInterval(()=>{e<t.content.length?(e++,k(t.content.substring(0,e))):(clearInterval(s),S(!1))},z?15:8);return()=>clearInterval(s)}k(t.content),M(""),S(!1)},[t.content,t.animate,s,z]),(0,r.useEffect)(()=>{f&&P.current&&(P.current.focus(),P.current.select())},[f]);let E=e=>{let s=p===e?null:e;g(s),o&&o(t.id,s),console.log("Feedback given:",s||"removed")},I=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).format(t.timestamp);return(0,a.jsxs)(x.P.div,{ref:_,className:U("flex items-start gap-3 my-6 group relative",z?"flex-row-reverse":"",A),initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.4,delay:.1,ease:"easeOut"},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[(0,a.jsxs)(x.P.div,{className:U("w-8 h-8 rounded-full flex items-center justify-center font-bold text-white flex-shrink-0 relative",z?"bg-primary":"bg-muted-foreground"),initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:10,delay:.2},whileHover:{scale:1.1},whileTap:{scale:.95},children:[z?(0,a.jsx)(x.P.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:"U"}):(0,a.jsx)(x.P.div,{className:"w-5 h-5 rounded-full bg-primary flex items-center justify-center",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},children:(0,a.jsx)(x.P.span,{className:"text-white text-xs font-bold",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"S"})}),!z&&C&&(0,a.jsx)(x.P.div,{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full",animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:1,repeat:1/0}})]}),(0,a.jsxs)("div",{className:U("flex flex-col transition-all duration-300",z?"items-end":"items-start",f?"max-w-[95%] md:max-w-[90%]":"max-w-[85%] md:max-w-[75%]"),children:[(()=>{if(!t.replyTo)return null;let e=t.replyTo.content.length>60?t.replyTo.content.substring(0,60)+"...":t.replyTo.content;return(0,a.jsx)("div",{className:"mb-2 text-xs text-muted-foreground flex items-center",children:(0,a.jsxs)("div",{className:"bg-muted px-2 py-1 rounded-lg",children:["Replying to: “",e,"”"]})})})(),(0,a.jsx)(x.P.div,{className:U("px-4 py-3 rounded-2xl shadow-sm break-words",z?"bg-primary text-primary-foreground rounded-br-md":"bg-muted text-foreground rounded-bl-md"),initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:20,delay:.3},whileHover:{scale:1.02},children:f?(0,a.jsxs)("div",{className:"flex flex-col gap-3 w-full",children:[(0,a.jsx)("div",{className:"w-full max-w-none",children:(0,a.jsx)("textarea",{ref:P,value:j,onChange:e=>b(e.target.value),className:U("w-full min-h-[80px] max-h-[300px] resize-none bg-transparent border-none p-0 focus:outline-none text-inherit transition-all duration-300","overflow-y-auto leading-relaxed",j.length>100?"min-w-[400px] md:min-w-[500px]":"min-w-[300px]",j.length>200?"min-w-[500px] md:min-w-[600px]":"",j.length>300?"min-h-[120px]":"",j.length>500?"min-h-[160px]":"",j.length>800?"min-h-[200px] overflow-y-scroll":""),placeholder:"Edit your message..."})}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-xs opacity-70 flex items-center gap-2",children:[(0,a.jsxs)("span",{children:[el(j)," tokens"]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[j.length," chars"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(h,{icon:L.A,size:14,animate:"bounce",onClick:()=>{f&&n?(n(t.id,j),v(!1),console.log("Saved edited message")):(v(!0),console.log("Started editing message"))},className:"p-2 rounded-lg hover:bg-black/10 dark:hover:bg-white/10 transition-all duration-200 hover:scale-105 cursor-pointer text-green-500",title:"Save changes"}),(0,a.jsx)(h,{icon:es.A,size:14,animate:"shake",onClick:()=>{v(!1),b(t.content),console.log("Cancelled editing message")},className:"p-2 rounded-lg hover:bg-black/10 dark:hover:bg-white/10 transition-all duration-200 hover:scale-105 cursor-pointer text-red-500",title:"Cancel editing"})]})]})]}):(0,a.jsxs)("div",{className:"whitespace-pre-wrap leading-relaxed",children:[w,C&&(0,a.jsx)(x.P.span,{className:"ml-1 inline-block",animate:{opacity:[1,.3,1]},transition:{duration:.8,repeat:1/0},children:(0,a.jsx)(x.P.span,{className:"inline-block w-2 h-4 bg-current",animate:{scaleY:[1,.3,1]},transition:{duration:.6,repeat:1/0}})})]})}),(0,a.jsxs)("div",{className:U("flex flex-wrap items-center mt-2 gap-1 text-xs text-muted-foreground transition-opacity",z?"justify-end flex-row-reverse":"",m?"opacity-100":"opacity-0 md:opacity-60"),children:[(0,a.jsxs)("div",{className:U("flex items-center gap-2 text-xs",z?"order-first":"order-last"),children:[(0,a.jsx)("span",{children:I}),T>0&&(0,a.jsx)("span",{children:"•"}),T>0&&(0,a.jsxs)("span",{children:[T," tokens"]}),t.inputCost&&(0,a.jsxs)("span",{children:["• Input: ",t.inputCost]}),t.outputCost&&(0,a.jsxs)("span",{children:["• Output: ",t.outputCost]}),z||!t.model?null:(0,a.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground ml-2 bg-muted px-2 py-0.5 rounded-full",children:[(0,a.jsx)(G.A,{size:10,className:"mr-1 text-primary"}),t.model]})]}),(0,a.jsx)(x.P.div,{className:"flex items-center gap-1",initial:{opacity:0,scale:.8},animate:{opacity:+!!m,scale:m?1:.8},transition:{duration:.2},children:z?(0,a.jsx)(h,{icon:B.A,size:12,animate:"pulse",onClick:()=>v(!0),className:"p-1 rounded hover:bg-muted cursor-pointer",title:"Edit message"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h,{icon:y?L.A:ep.A,size:12,animate:y?"bounce":"none",onClick:()=>{navigator.clipboard.writeText(t.content),N(!0),setTimeout(()=>N(!1),2e3),console.log("Copied message to clipboard")},className:U("p-1 rounded hover:bg-muted cursor-pointer",y&&"text-green-500"),title:y?"Copied!":"Copy"}),(0,a.jsx)(h,{icon:eh.A,size:12,animate:"like"===p?"bounce":"none",onClick:()=>E("like"),className:U("p-1 rounded hover:bg-muted cursor-pointer","like"===p&&"text-green-500"),title:"Good response"}),(0,a.jsx)(h,{icon:eg.A,size:12,animate:"dislike"===p?"shake":"none",onClick:()=>E("dislike"),className:U("p-1 rounded hover:bg-muted cursor-pointer","dislike"===p&&"text-red-500"),title:"Bad response"}),(0,a.jsx)(h,{icon:ef.A,size:12,animate:"spin",onClick:()=>{i&&(i(t.id),console.log("Regenerating message"))},className:"p-1 rounded hover:bg-muted cursor-pointer",title:"Regenerate"}),(0,a.jsx)(h,{icon:d.A,size:12,animate:c?"pulse":"none",onClick:()=>{l&&(l(t),console.log("Replying to message"))},className:U("p-1 rounded hover:bg-muted cursor-pointer",c&&"text-primary"),title:c?"Cancel Reply":"Reply"})]})})]})]})]})}function ej(e){let{messages:t,onEditMessage:s,onRegenerate:n,onReply:i,replyTo:l,onSuggestionClick:o}=e,c=(0,r.useRef)(null),d=(0,r.useRef)(null),[m,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)([]),[f,v]=(0,r.useState)(!1),[j,b]=(0,r.useState)(!1),[y,N]=(0,r.useState)(0),[w,k]=(0,r.useState)(0),[C,S]=(0,r.useState)(!1),[A,M]=(0,r.useState)(!0),[P,_]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=!!l;if(!C&&e){var t;k((null==(t=d.current)?void 0:t.scrollTop)||0)}C&&!e&&v(!1),S(e)},[l,C]),(0,r.useEffect)(()=>{0===t.length?(M(!0),_("animate-fade-in")):t.length>0&&A&&(_("animate-fade-out"),setTimeout(()=>{M(!1)},300))},[t.length,A]),(0,r.useEffect)(()=>{C&&d.current&&requestAnimationFrame(()=>{d.current&&(d.current.scrollTop=w)})},[w,C,t,h]),(0,r.useEffect)(()=>{let e=!sessionStorage.getItem("pageHasLoaded");e&&sessionStorage.setItem("pageHasLoaded","true");let s=parseInt(sessionStorage.getItem("lastMessageCount")||"0")<t.length;sessionStorage.setItem("lastMessageCount",t.length.toString()),N(t.length),g(t.map((a,r)=>{let n=!e&&s&&r===t.length-1&&!1!==a.animate;return{...a,animate:n}})),!s||f||j||C||v(!1)},[t,f,j,C]);let L=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smooth";c.current&&(c.current.scrollIntoView({behavior:e}),p(!1))};(0,r.useEffect)(()=>{if(!d.current)return;let{scrollTop:e,scrollHeight:s,clientHeight:a}=d.current,r=s-e-a<100;if(C){d.current.scrollTop=w;return}(!f||r)&&L("auto"),t.length>y&&!r&&p(!0)},[h,f,y,t.length,C,w]);let z=()=>{if(!d.current||C)return;let{scrollTop:e,scrollHeight:t,clientHeight:s}=d.current,a=t-e-s<50;v(!a),p(!a)},T=()=>{b(!0)},E=()=>{setTimeout(()=>{b(!1);let e=window.getSelection();if((!e||0===e.toString().length)&&d.current){let{scrollTop:e,scrollHeight:t,clientHeight:s}=d.current;t-e-s<50&&v(!1)}},100)};return(0,r.useEffect)(()=>{let e=d.current;if(e)return e.addEventListener("scroll",z),e.addEventListener("mousedown",T),e.addEventListener("mouseup",E),()=>{e.removeEventListener("scroll",z),e.removeEventListener("mousedown",T),e.removeEventListener("mouseup",E)}},[C]),(0,a.jsxs)("div",{className:"relative h-full bg-background",children:[(0,a.jsxs)("div",{ref:d,className:"absolute inset-0 p-4 md:p-6 lg:p-8 space-y-6 overflow-y-auto custom-scrollbar",children:[0===h.length?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-2 text-muted-foreground",children:"Ready to chat"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm max-w-md",children:"Your conversation will appear here once you send your first message."})]})}):(0,a.jsx)(x.P.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},children:h.map((e,t)=>(0,a.jsx)(x.P.div,{variants:{hidden:{opacity:0,y:20,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:200,damping:20}}},children:(0,a.jsx)(ev,{message:e,isLast:t===h.length-1,onEdit:s,onRegenerate:n,onReply:i,replyActive:(null==l?void 0:l.id)===e.id})},e.id))}),(0,a.jsx)("div",{ref:c,className:"h-1"})]}),(0,a.jsx)(u.N,{children:m&&!C&&(0,a.jsx)(x.P.div,{className:"absolute bottom-4 right-4 z-10",initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{type:"spring",stiffness:400,damping:20},children:(0,a.jsx)(X,{icon:ex.A,iconAnimation:"bounce",variant:"glass",size:"md",onClick:()=>{L(),v(!1)},className:"w-10 h-10 rounded-full shadow-lg hover-lift",title:"Scroll to bottom",glow:!0})})})]})}var eb=s(6474);let ey=[{id:"openrouter/switchpoint-router",name:"Switchpoint Router",description:"Switchpoint AI routes instantly analyzes your request and directs it to the optimal AI from an ever-evolving library. At the word of LLMs advances, our router gets smarter, ensuring you always get the best response.",context_length:162e3,pricing:{prompt:"0.0",completion:"0.0"},provider:{id:"switchpoint",name:"Switchpoint"},icon:"\uD83D\uDD04",maxTokens:162e3,inputPrice:0,outputPrice:0},{id:"moonshot/moonshot-v1-8k",name:"Moonshot-v1 8k",description:"Kimi K2 is a large-scale Mixture-of-Experts (MoE) language model developed by Moonshot AI, featuring 1 trillion total parameters with 22 billion active per forward pass.",context_length:38e4,pricing:{prompt:"0.001",completion:"0.0015"},provider:{id:"moonshot",name:"Moonshot AI"},icon:"\uD83C\uDF19",maxTokens:38e4,inputPrice:.001,outputPrice:.0015},{id:"google/gemini-pro-1.5",name:"Google: Gemini Pro 1.5",description:"Google's next-generation multimodal model, with a 1 million token context window, advanced multimodal reasoning, and a breakthrough in long-context understanding.",context_length:1e6,pricing:{prompt:"0.0005",completion:"0.001"},provider:{id:"google",name:"Google"},icon:"✨",maxTokens:1e6,inputPrice:5e-4,outputPrice:.001},{id:"anthropic/claude-3-opus",name:"Anthropic: Claude 3 Opus",description:"Anthropic's most powerful model, delivering state-of-the-art performance, intelligence, and fluency on complex tasks. Ideal for enterprise-grade applications.",context_length:2e5,pricing:{prompt:"0.015",completion:"0.075"},provider:{id:"anthropic",name:"Anthropic"},icon:"\uD83C\uDFAD",maxTokens:2e5,inputPrice:.015,outputPrice:.075},{id:"mistralai/mistral-large",name:"Mistral Large",description:"Mistral Large is a high-performance vision-language model developed by Mistral AI. Positioned as a step-up from Devastral Medium.",context_length:688e3,pricing:{prompt:"0.0025",completion:"0.0075"},provider:{id:"mistralai",name:"Mistral AI"},icon:"\uD83C\uDF0A",maxTokens:688e3,inputPrice:.0025,outputPrice:.0075},{id:"openai/gpt-4o",name:"GPT-4o",description:"OpenAI's most advanced multimodal model, capable of understanding text, audio, and images.",context_length:128e3,pricing:{prompt:"0.005",completion:"0.015"},provider:{id:"openai",name:"OpenAI"},icon:"\uD83E\uDD16",maxTokens:128e3,inputPrice:.005,outputPrice:.015}];function eN(e){let{isOpen:t,onClose:s,selectedModel:n,onModelSelect:i,onOpenMarketplace:o,selectedMarketplaceModels:c=[]}=e,[d,m]=(0,r.useState)(n.id),[u,x]=(0,r.useState)(!1),[p,h]=(0,r.useState)(.7),[g,f]=(0,r.useState)(n.maxTokens||8192),[v,j]=(0,r.useState)(""),b=(0,r.useMemo)(()=>{let e=c.filter(e=>!ey.find(t=>t.id===e.id));return[...ey,...e]},[c]),y=b.filter(e=>e.name.toLowerCase().includes(v.toLowerCase())||e.provider.name.toLowerCase().includes(v.toLowerCase())||e.description.toLowerCase().includes(v.toLowerCase()));return((0,r.useEffect)(()=>{let e=b.find(e=>e.id===d);e&&f(e.maxTokens||8192)},[d,b]),t)?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:s}),(0,a.jsxs)("div",{className:"panel-modal w-full max-w-2xl max-h-[90vh] flex flex-col shadow-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border/20 bg-muted/30 rounded-t-2xl",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-heading",children:"Select AI Model"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Choose the best model for your task"})]}),(0,a.jsx)("button",{onClick:s,className:"btn-minimal hover-lift-gentle focus-ring-enhanced",children:(0,a.jsx)(es.A,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-lg scrollbar-modern",children:[(0,a.jsxs)("div",{className:"relative input-raised p-0",children:[(0,a.jsx)(l.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),(0,a.jsx)("input",{type:"text",placeholder:"Search models...",value:v,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-transparent border-none focus:outline-none"})]}),(0,a.jsxs)("div",{className:"space-lg",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Available Models"}),(0,a.jsx)("div",{className:"grid gap-3 max-h-96 overflow-y-auto scrollbar-modern",children:y.map(e=>{var t;return(0,a.jsx)("button",{onClick:()=>m(e.id),className:"card-interactive text-left transition-all duration-200 ".concat(d===e.id?"border-primary bg-primary/5 shadow-md":"hover-lift-gentle"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3 flex-1",children:[(0,a.jsx)("span",{className:"text-xl mt-0.5",children:e.icon}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-foreground text-heading",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-0.5",children:e.provider.name}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1 line-clamp-2 text-body",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:["Context: ",e.context_length.toLocaleString()]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:["$",null==(t=e.inputPrice)?void 0:t.toFixed(4),"/1K tokens"]})]})]})]}),d===e.id&&(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-primary flex items-center justify-center ml-2 mt-1 shadow-md",children:(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary-foreground"})})]})},e.id)})}),o&&(0,a.jsxs)("button",{onClick:o,className:"w-full card-flat border-dashed hover-lift-gentle flex items-center justify-center px-4 py-3",children:[(0,a.jsx)(l.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Browse More Models"})]})]}),(0,a.jsx)("div",{className:"border-t border-border pt-6",children:(0,a.jsxs)("button",{onClick:()=>x(!u),className:"flex items-center w-full p-2 text-sm font-medium text-foreground hover:bg-muted rounded-lg transition-colors",children:[(0,a.jsx)(z.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:"Advanced Settings"}),u?(0,a.jsx)(eb.A,{className:"h-4 w-4 ml-auto"}):(0,a.jsx)(_.A,{className:"h-4 w-4 ml-auto"})]})}),u&&(0,a.jsxs)("div",{className:"bg-muted/30 rounded-lg p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Temperature"}),(0,a.jsx)("span",{className:"text-sm font-mono text-muted-foreground",children:p.toFixed(1)})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:p,onChange:e=>h(parseFloat(e.target.value)),className:"w-full h-2 rounded-full appearance-none cursor-pointer bg-secondary"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[(0,a.jsx)("span",{children:"More focused"}),(0,a.jsx)("span",{children:"More creative"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Max Tokens"}),(0,a.jsx)("span",{className:"text-sm font-mono text-muted-foreground",children:g.toLocaleString()})]}),(0,a.jsx)("input",{type:"range",min:"1000",max:"100000",step:"1000",value:g,onChange:e=>f(parseInt(e.target.value)),className:"w-full h-2 rounded-full appearance-none cursor-pointer bg-secondary"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[(0,a.jsx)("span",{children:"Shorter responses"}),(0,a.jsx)("span",{children:"Longer responses"})]})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground pt-2 border-t border-border space-y-1",children:(()=>{var e,t;let s=b.find(e=>e.id===d);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(k.A,{className:"h-3 w-3 mr-1"}),(0,a.jsxs)("span",{children:["Input: $",null==s||null==(e=s.inputPrice)?void 0:e.toFixed(5),"/1K tokens"]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(k.A,{className:"h-3 w-3 mr-1"}),(0,a.jsxs)("span",{children:["Output: $",null==s||null==(t=s.outputPrice)?void 0:t.toFixed(5),"/1K tokens"]})]})]})})()})]})]}),(0,a.jsxs)("div",{className:"p-6 border-t border-border/20 flex justify-end gap-3 bg-muted/30 rounded-b-2xl",children:[(0,a.jsx)("button",{onClick:s,className:"btn-ghost",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{let e=b.find(e=>e.id===d);e&&i(e),s()},className:"btn-raised btn-ripple hover-lift-gentle",children:"Apply Model"})]})]})]}):null}ey[0];var ew=s(6932),ek=s(646);class eC{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat(this.baseUrl).concat(e),a={...t,headers:{...this.headers,...t.headers}};try{let e=await fetch(s,a);if(!e.ok){let t="HTTP error! status: ".concat(e.status);try{let s=await e.json();t=s.message||s.error||t}catch(e){}throw Error(t)}return await e.json()}catch(e){throw console.error("API request failed: ".concat(s),e),e}}async healthCheck(){return this.request("/health/")}async registerUser(e){return this.request("/users/register/",{method:"POST",body:JSON.stringify(e)})}async loginUser(e){return this.request("/users/login/",{method:"POST",body:JSON.stringify(e)})}async getUserProfile(){return this.request("/users/profile/")}async updateUserProfile(e){return this.request("/users/profile/",{method:"PATCH",body:JSON.stringify(e)})}async getUserStats(){return this.request("/users/stats/")}async getModels(e){let t=new URLSearchParams;e&&Object.entries(e).forEach(e=>{let[s,a]=e;void 0!==a&&t.append(s,a.toString())});let s="/marketplace/models/".concat(t.toString()?"?".concat(t.toString()):"");return this.request(s)}async getModel(e){return this.request("/marketplace/models/".concat(e,"/"))}async getFeaturedModels(){return this.request("/marketplace/featured/")}async getModelCategories(){return this.request("/marketplace/categories/")}async getMarketplaceStats(){return this.request("/marketplace/stats/")}async getConversations(){return this.request("/chat/conversations/")}async getConversation(e){return this.request("/chat/conversations/".concat(e,"/"))}async createConversation(e){return this.request("/chat/conversations/",{method:"POST",body:JSON.stringify(e)})}async sendMessage(e){return this.request("/chat/chat/",{method:"POST",body:JSON.stringify(e)})}async getConversationMessages(e){return this.request("/chat/conversations/".concat(e,"/messages/"))}async regenerateMessage(e){return this.request("/chat/messages/".concat(e,"/regenerate/"),{method:"POST"})}async deleteConversation(e){return this.request("/chat/conversations/".concat(e,"/delete/"),{method:"DELETE"})}async getUsageDashboard(){return this.request("/usage/dashboard/")}async getUsageRecords(e){let t=new URLSearchParams;e&&Object.entries(e).forEach(e=>{let[s,a]=e;void 0!==a&&t.append(s,a.toString())});let s="/usage/records/".concat(t.toString()?"?".concat(t.toString()):"");return this.request(s)}async getUsageQuotas(){return this.request("/usage/quotas/")}async getUsageAlerts(e){let t=new URLSearchParams;e&&Object.entries(e).forEach(e=>{let[s,a]=e;void 0!==a&&t.append(s,a.toString())});let s="/usage/alerts/".concat(t.toString()?"?".concat(t.toString()):"");return this.request(s)}async markAlertRead(e){return this.request("/usage/alerts/".concat(e,"/read/"),{method:"POST"})}constructor(){this.baseUrl="http://localhost:8000/api",this.headers={"Content-Type":"application/json"}}}let eS=new eC,eA={getModels:e=>eS.getModels(e),getConversations:()=>eS.getConversations(),createConversation:e=>eS.createConversation(e),sendMessage:e=>eS.sendMessage(e),getMessages:e=>eS.getConversationMessages(e),regenerateMessage:e=>eS.regenerateMessage(e),deleteConversation:e=>eS.deleteConversation(e),getUsageDashboard:()=>eS.getUsageDashboard()};function eM(e){let{isOpen:t,onClose:s,selectedModels:n,onApplyModels:i}=e,[o,c]=(0,r.useState)(n),[d,m]=(0,r.useState)(""),[u,x]=(0,r.useState)(!0),[h,g]=(0,r.useState)({providers:[],modalities:[],contextLength:0,maxPrice:0,categories:[]}),[f,v]=(0,r.useState)([]),[j,b]=(0,r.useState)(!1),[y,N]=(0,r.useState)(null);(0,r.useEffect)(()=>{t&&0===f.length&&w()},[t]);let w=async()=>{b(!0),N(null);try{let e=(await eA.getModels()).map(e=>({id:e.model_id,name:e.display_name,description:e.description,context_length:e.context_length,pricing:{prompt:e.prompt_cost.toString(),completion:e.completion_cost.toString()},provider:{id:e.provider.name,name:e.provider.display_name},icon:({switchpoint:"\uD83D\uDD04",openai:"\uD83E\uDD16",anthropic:"\uD83C\uDFAD",google:"✨",mistralai:"\uD83C\uDF0A",moonshot:"\uD83C\uDF19"})[e.provider.name]||"\uD83D\uDD2E",maxTokens:e.context_length,inputPrice:e.prompt_cost,outputPrice:e.completion_cost,model_id:e.model_id,quality_score:e.quality_score,speed_score:e.speed_score,popularity_score:e.popularity_score,supports_functions:e.supports_functions,supports_vision:e.supports_vision,is_featured:e.is_featured}));v(e)}catch(e){N(e instanceof Error?e.message:"Failed to load models"),console.error("Failed to load models:",e)}finally{b(!1)}},k=(0,r.useMemo)(()=>[...new Set(f.map(e=>e.provider.name))].sort(),[f]),C=(0,r.useMemo)(()=>f.filter(e=>{let t=!d||e.name.toLowerCase().includes(d.toLowerCase())||e.description.toLowerCase().includes(d.toLowerCase())||e.provider.name.toLowerCase().includes(d.toLowerCase()),s=0===h.providers.length||h.providers.includes(e.provider.name),a=0===h.maxPrice||(e.inputPrice||0)<=h.maxPrice,r=0===h.contextLength||e.context_length>=h.contextLength;return t&&s&&a&&r}),[d,h]),S=e=>e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat(Math.round(e/1e3),"K"):"".concat(e);return t?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:s}),(0,a.jsxs)("div",{className:"relative panel-modal w-full max-w-7xl h-[90vh] flex flex-col shadow-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border/20 bg-muted/30 rounded-t-2xl",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-heading",children:"AI Models Marketplace"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Browse and select AI models for your conversations"})]}),(0,a.jsx)("button",{onClick:s,className:"p-2 rounded-full hover:bg-muted/30 text-muted-foreground hover:text-foreground transition-all duration-200",children:(0,a.jsx)(es.A,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"flex flex-1 min-h-0",children:[u&&(0,a.jsxs)("div",{className:"w-72 border-r border-border/20 p-6 overflow-y-auto bg-muted/20 scrollbar-modern",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-heading",children:"Filters"}),(0,a.jsx)("button",{onClick:()=>{g({providers:[],modalities:[],contextLength:0,maxPrice:0,categories:[]})},className:"text-xs text-muted-foreground hover:text-foreground transition-all duration-200",children:"Reset"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Providers"}),(0,a.jsx)("div",{className:"space-y-2",children:k.map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:h.providers.includes(e),onChange:()=>{g(t=>({...t,providers:t.providers.includes(e)?t.providers.filter(t=>t!==e):[...t.providers,e]}))},className:"rounded border-border"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},e))})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Max Price (per 1K tokens)"}),(0,a.jsx)("input",{type:"range",min:"0",max:"0.1",step:"0.001",value:h.maxPrice,onChange:e=>g(t=>({...t,maxPrice:parseFloat(e.target.value)})),className:"w-full"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[(0,a.jsx)("span",{children:"Free"}),(0,a.jsxs)("span",{children:["$",h.maxPrice.toFixed(3)]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Min Context Length"}),(0,a.jsx)("input",{type:"range",min:"0",max:"1000000",step:"10000",value:h.contextLength,onChange:e=>g(t=>({...t,contextLength:parseInt(e.target.value)})),className:"w-full"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[(0,a.jsx)("span",{children:"Any"}),(0,a.jsxs)("span",{children:[S(h.contextLength)," tokens"]})]})]})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,a.jsx)("div",{className:"p-6 border-b border-border/20 bg-muted/20",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>x(!u),className:"p-2 rounded-lg hover:bg-muted/30 transition-all duration-200",title:u?"Hide filters":"Show filters",children:(0,a.jsx)(ew.A,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex-1 relative input-raised p-0",children:[(0,a.jsx)(l.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),(0,a.jsx)("input",{type:"text",placeholder:"Search models, providers, or descriptions...",value:d,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-transparent border-none focus:outline-none"})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[C.length," models found"]})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-modern",children:j?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(p.A,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading AI models..."})]})}):y?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-red-500 mb-4",children:y}),(0,a.jsx)("button",{onClick:w,className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-all duration-200",children:"Try Again"})]})}):0===C.length?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No models found matching your criteria"})})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(e=>{let t=o.includes(e.id);return(0,a.jsxs)("div",{className:"relative p-4 rounded-lg border cursor-pointer transition-all ".concat(t?"border-primary bg-primary/5 shadow-md":"border hover:border-primary/50 hover:shadow-sm"),onClick:()=>{var t;return t=e.id,void c(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},children:[t&&(0,a.jsx)("div",{className:"absolute top-3 right-3 text-primary",children:(0,a.jsx)(ek.A,{className:"h-5 w-5"})}),(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-lg",children:e.icon}),(0,a.jsx)("h3",{className:"font-semibold text-sm",children:e.name})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.provider.name}),(0,a.jsxs)("div",{className:"flex gap-1 mt-1",children:[e.supports_functions&&(0,a.jsx)("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 rounded text-xs",children:"Functions"}),e.supports_vision&&(0,a.jsx)("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-700 rounded text-xs",children:"Vision"}),e.is_featured&&(0,a.jsx)("span",{className:"px-1.5 py-0.5 bg-yellow-100 text-yellow-700 rounded text-xs",children:"Featured"})]})]}),(0,a.jsx)("div",{className:"flex-shrink-0 ml-2",children:(0,a.jsxs)("span",{className:"px-2 py-1 bg-muted rounded-full text-xs",children:[S(e.context_length)," tokens"]})})]})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Input:"}),(0,a.jsxs)("span",{className:"font-mono",children:["$",e.pricing.prompt,"/1M tokens"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Output:"}),(0,a.jsxs)("span",{className:"font-mono",children:["$",e.pricing.completion,"/1M tokens"]})]}),(e.quality_score||e.speed_score)&&(0,a.jsxs)("div",{className:"flex items-center justify-between pt-1 border-t border-border/10",children:[e.quality_score&&(0,a.jsxs)("span",{className:"text-muted-foreground",children:["Quality: ",e.quality_score,"/10"]}),e.speed_score&&(0,a.jsxs)("span",{className:"text-muted-foreground",children:["Speed: ",e.speed_score,"/10"]})]})]})]},e.id)})})}),(0,a.jsxs)("div",{className:"p-6 border-t border-border/20 flex items-center justify-between bg-muted/30 rounded-b-2xl",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[o.length," model(s) selected",o.length>0&&(0,a.jsx)("button",{onClick:()=>c([]),className:"ml-2 text-primary hover:underline transition-all duration-200",children:"Clear selection"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:s,className:"px-4 py-2 border border-input/50 rounded-lg hover:bg-muted/30 transition-all duration-200",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{i(f.filter(e=>o.includes(e.id))),s()},disabled:0===o.length,className:"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Apply Selection"})]})]})]})]})]})]}):null}var eP=s(3127),e_=s(4869),eL=s(5525),ez=s(3861),eT=s(1788),eE=s(9869),eI=s(2525),eR=s(133),eF=s(4229);let eO=[{id:"profile",title:"Profile",icon:(0,a.jsx)(E.A,{className:"h-5 w-5"}),description:"Manage your account and profile settings"},{id:"appearance",title:"Appearance",icon:(0,a.jsx)(eP.A,{className:"h-5 w-5"}),description:"Customize the look and feel"},{id:"language",title:"Language & Region",icon:(0,a.jsx)(e_.A,{className:"h-5 w-5"}),description:"Set your language and locale preferences"},{id:"performance",title:"Performance",icon:(0,a.jsx)(k.A,{className:"h-5 w-5"}),description:"Optimize app performance and resource usage"},{id:"privacy",title:"Privacy & Security",icon:(0,a.jsx)(eL.A,{className:"h-5 w-5"}),description:"Control your privacy and security settings"},{id:"notifications",title:"Notifications",icon:(0,a.jsx)(ez.A,{className:"h-5 w-5"}),description:"Configure notification preferences"},{id:"data",title:"Data Management",icon:(0,a.jsx)(w.A,{className:"h-5 w-5"}),description:"Import, export, and manage your data"}],eq=e=>{var t,s;let{isOpen:n,onClose:i}=e,[l,o]=(0,r.useState)("profile"),[d,m]=(0,r.useState)({profile:{name:"User",email:"user@example.com",avatar:null},appearance:{theme:"system",fontSize:"medium",density:"comfortable",animations:!0},language:{language:"en",region:"US",dateFormat:"MM/DD/YYYY",timeFormat:"12h"},performance:{animationsEnabled:!0,autoSave:!0,cacheSize:"medium",preloadImages:!0},privacy:{analytics:!0,crashReports:!0,shareUsage:!1,clearOnExit:!1},notifications:{desktop:!0,sounds:!0,email:!1,mentions:!0}}),{theme:u,setTheme:x}=(0,c.D)(),p=(e,t,s)=>{m(a=>({...a,[e]:{...a[e],[t]:s}}))},h=()=>{let e=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="fereelab-settings.json",s.click(),URL.revokeObjectURL(t)};return n?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:i}),(0,a.jsxs)("div",{className:"relative w-full max-w-4xl h-[80vh] m-4 bg-background border border-border rounded-lg shadow-lg flex overflow-hidden",children:[(0,a.jsxs)("div",{className:"w-80 border-r border-border bg-muted/30",children:[(0,a.jsx)("div",{className:"p-6 border-b border-border",children:(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Settings"})}),(0,a.jsx)("div",{className:"p-2",children:eO.map(e=>(0,a.jsxs)("button",{onClick:()=>o(e.id),className:U("w-full flex items-center gap-3 px-4 py-3 rounded-md text-left transition-colors",l===e.id?"bg-primary/10 text-primary border-primary/20":"hover:bg-muted"),children:[e.icon,(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.title}),e.description&&(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:e.description})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:null==(t=eO.find(e=>e.id===l))?void 0:t.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:null==(s=eO.find(e=>e.id===l))?void 0:s.description})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>{console.log("Resetting ".concat(l," section"))},className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-input rounded-md hover:bg-muted transition-colors",children:[(0,a.jsx)(eR.A,{className:"h-4 w-4"}),"Reset"]}),(0,a.jsx)("button",{onClick:i,className:"p-2 hover:bg-muted rounded-md transition-colors",children:(0,a.jsx)(es.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)("div",{className:"flex-1 p-6 overflow-y-auto",children:(()=>{switch(l){case"profile":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Display Name"}),(0,a.jsx)("input",{type:"text",value:d.profile.name,onChange:e=>p("profile","name",e.target.value),className:"w-full px-3 py-2 border border-input rounded-md bg-background"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",value:d.profile.email,onChange:e=>p("profile","email",e.target.value),className:"w-full px-3 py-2 border border-input rounded-md bg-background"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Avatar"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(E.A,{className:"h-8 w-8 text-primary"})}),(0,a.jsx)("button",{className:"px-4 py-2 border border-input rounded-md hover:bg-muted transition-colors",children:"Change Avatar"})]})]})]});case"appearance":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Theme"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["light","dark","system"].map(e=>(0,a.jsx)("button",{onClick:()=>{x(e),p("appearance","theme",e)},className:U("p-3 border rounded-md text-sm capitalize transition-colors",u===e?"border-primary bg-primary/10 text-primary":"border-input hover:bg-muted"),children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Font Size"}),(0,a.jsxs)("select",{value:d.appearance.fontSize,onChange:e=>p("appearance","fontSize",e.target.value),className:"w-full px-3 py-2 border border-input rounded-md bg-background",children:[(0,a.jsx)("option",{value:"small",children:"Small"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"large",children:"Large"})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:d.appearance.animations,onChange:e=>p("appearance","animations",e.target.checked),className:"rounded"}),(0,a.jsx)("span",{className:"text-sm",children:"Enable animations"})]})})]});case"data":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-medium",children:"Export & Import"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 border border-input rounded-md hover:bg-muted transition-colors",children:[(0,a.jsx)(eT.A,{className:"h-4 w-4"}),"Export Settings"]}),(0,a.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 border border-input rounded-md hover:bg-muted transition-colors",children:[(0,a.jsx)(eE.A,{className:"h-4 w-4"}),"Import Settings"]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-medium",children:"Clear Data"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 border border-destructive text-destructive rounded-md hover:bg-destructive/10 transition-colors",children:[(0,a.jsx)(eI.A,{className:"h-4 w-4"}),"Clear Chat History"]}),(0,a.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 border border-destructive text-destructive rounded-md hover:bg-destructive/10 transition-colors",children:[(0,a.jsx)(eI.A,{className:"h-4 w-4"}),"Reset All Settings"]})]})]})]});default:var e;return(0,a.jsx)("div",{className:"flex items-center justify-center h-32 text-muted-foreground",children:(0,a.jsxs)("p",{children:["Settings for ",null==(e=eO.find(e=>e.id===l))?void 0:e.title," coming soon..."]})})}})()}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2 p-6 border-t border-border",children:[(0,a.jsx)("button",{onClick:i,className:"px-4 py-2 border border-input rounded-md hover:bg-muted transition-colors",children:"Cancel"}),(0,a.jsxs)("button",{onClick:()=>{localStorage.setItem("appSettings",JSON.stringify(d)),i()},className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[(0,a.jsx)(eF.A,{className:"h-4 w-4"}),"Save Changes"]})]})]})]})]}):null};var eD=s(1243),eU=s(5868),eW=s(3109),eH=s(8500);function e$(e){let{dashboard:t,isLoading:s,error:i,onRefresh:l}=e,[o,c]=(0,r.useState)("daily");if(s)return(0,a.jsx)("div",{className:"p-6 space-y-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-32 mb-4"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,a.jsx)("div",{className:"h-24 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-24 bg-gray-200 rounded"})]}),(0,a.jsx)("div",{className:"h-32 bg-gray-200 rounded"})]})});if(i)return(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"border border-red-200 rounded-lg p-6 text-center",children:[(0,a.jsx)(eD.A,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Failed to Load Usage Data"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:i}),(0,a.jsx)("button",{onClick:l,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-600 transition-colors",children:"Try Again"})]})});if(!t)return(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"border rounded-lg p-6 text-center",children:[(0,a.jsx)(n.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Usage Data"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Start chatting to see your usage statistics"})]})});let d="daily"===o?t.today:t.this_month,m="daily"===o?{requests:t.limits.daily_requests,cost:t.limits.daily_cost}:{requests:t.limits.monthly_requests,cost:t.limits.monthly_cost},u=m.requests>0?d.requests/m.requests*100:0,x=m.cost>0?d.cost/m.cost*100:0,p=e=>e>=90?"bg-red-500":e>=75?"bg-yellow-500":"bg-blue-500";return(0,a.jsxs)("div",{className:"p-6 space-y-6 max-h-screen overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Usage Tracking"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>c("daily"),className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors ".concat("daily"===o?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Today"}),(0,a.jsx)("button",{onClick:()=>c("monthly"),className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors ".concat("monthly"===o?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"This Month"})]})]}),t.active_alerts.length>0&&(0,a.jsxs)("div",{className:"border border-yellow-200 rounded-lg",children:[(0,a.jsx)("div",{className:"p-4 border-b border-yellow-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eD.A,{className:"w-4 h-4 text-yellow-600"}),(0,a.jsx)("span",{className:"font-medium text-yellow-800",children:"Active Alerts"})]})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"space-y-2",children:t.active_alerts.map(e=>(0,a.jsx)("div",{className:"p-3 rounded-lg border ".concat((e=>{switch(e){case"critical":case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}})(e.severity)),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:e.title}),(0,a.jsx)("p",{className:"text-xs mt-1",children:e.message})]}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-white bg-opacity-50",children:e.severity})]})},e.id))})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(n.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Requests"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:d.requests})]})]})}),(0,a.jsx)("div",{className:"border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(eU.A,{className:"w-4 h-4 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Cost"}),(0,a.jsxs)("p",{className:"text-lg font-semibold",children:["$",d.cost.toFixed(4)]})]})]})})]}),(0,a.jsxs)("div",{className:"border rounded-lg",children:[(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsx)("h3",{className:"font-medium",children:"Quota Usage"})}),(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Requests"}),(0,a.jsxs)("span",{className:"text-xs text-gray-600",children:[d.requests," / ",m.requests]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all ".concat(p(u)),style:{width:"".concat(Math.min(u,100),"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(100-u).toFixed(1),"% remaining"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Cost"}),(0,a.jsxs)("span",{className:"text-xs text-gray-600",children:["$",d.cost.toFixed(4)," / $",m.cost.toFixed(2)]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all ".concat(p(x)),style:{width:"".concat(Math.min(x,100),"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(100-x).toFixed(1),"% remaining"]})]})]})]}),(0,a.jsxs)("div",{className:"border rounded-lg",children:[(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsx)("h3",{className:"font-medium",children:"7-Day Trend"})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"space-y-3",children:t.usage_trend.map((e,s)=>{let r=s>0?t.usage_trend[s-1]:null,n=r?e.requests-r.requests:0;return(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium w-16",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),n>0&&(0,a.jsx)(eW.A,{className:"w-3 h-3 text-green-500"}),n<0&&(0,a.jsx)(eH.A,{className:"w-3 h-3 text-red-500"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm font-medium",children:[e.requests," requests"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["$",e.cost.toFixed(4)]})]})]},e.date)})})})]}),t.top_models.length>0&&(0,a.jsxs)("div",{className:"border rounded-lg",children:[(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsx)("h3",{className:"font-medium",children:"Top Models (This Month)"})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"space-y-3",children:t.top_models.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-xs font-medium w-4 h-4 rounded-full bg-gray-100 flex items-center justify-center",children:t+1}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.model__display_name})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:e.requests}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["$",e.cost.toFixed(4)]})]})]},e.model__model_id))})})]}),t.recent_activity.length>0&&(0,a.jsxs)("div",{className:"border rounded-lg",children:[(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsx)("h3",{className:"font-medium",children:"Recent Activity"})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"space-y-3",children:t.recent_activity.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.success?"bg-green-500":"bg-red-500")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:e.model.display_name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleTimeString()})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm font-medium",children:[e.tokens_used," tokens"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["$",e.cost.toFixed(6)]})]})]},e.id))})})]})]})}var eB=s(9137),eG=s.n(eB);let eJ=e=>{let{children:t,direction:s="horizontal",initialSize:n=280,minSize:i=200,maxSize:l=500,className:o="",handleClassName:c="",onResize:d=()=>{},isOpen:m=!0,handlePosition:u="right"}=e,[x,p]=(0,r.useState)(n),[h,g]=(0,r.useState)(!1),f=(0,r.useRef)(null),v=(0,r.useRef)(0),j=(0,r.useRef)(n),b=(0,r.useCallback)(e=>{e.preventDefault(),v.current="horizontal"===s?e.clientX:e.clientY,j.current=x,g(!0),"horizontal"===s?document.body.style.cursor="col-resize":document.body.style.cursor="row-resize",document.body.classList.add("resize-active")},[s,x]),y=(0,r.useCallback)(e=>{let t;if(!h)return;let a=("horizontal"===s?e.clientX:e.clientY)-v.current;p(t=Math.max(i,Math.min(l,t="right"===u||"bottom"===u?j.current+a:j.current-a))),d(t)},[h,s,i,l,u,d]),N=(0,r.useCallback)(()=>{h&&(g(!1),document.body.style.cursor="",document.body.classList.remove("resize-active"))},[h]);if((0,r.useEffect)(()=>{if(h)return document.addEventListener("mousemove",y),document.addEventListener("mouseup",N),document.addEventListener("mouseleave",N),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",N),document.removeEventListener("mouseleave",N)}},[h,y,N]),(0,r.useEffect)(()=>{p(n)},[n]),!m)return null;let w="horizontal"===s?{width:"".concat(x,"px")}:{height:"".concat(x,"px")},k="horizontal"===s?{cursor:"col-resize",width:"4px",height:"100%",position:"absolute",[u]:"-2px",top:0,zIndex:10}:{cursor:"row-resize",height:"4px",width:"100%",position:"absolute",[u]:"-2px",left:0,zIndex:10};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eG(),{id:"1ffb47042e01df6b",children:".resize-active.jsx-1ffb47042e01df6b{user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.resize-handle.jsx-1ffb47042e01df6b:hover{background-color:var(--primary-500,#3b82f6)}.resize-handle.dragging.jsx-1ffb47042e01df6b{background-color:var(--primary-600,#2563eb)}"}),(0,a.jsxs)("div",{ref:f,style:w,className:"jsx-1ffb47042e01df6b "+"relative flex-shrink-0 ".concat(o),children:[t,(0,a.jsx)("div",{style:k,onMouseDown:b,className:"jsx-1ffb47042e01df6b "+"resize-handle ".concat(h?"dragging":""," ").concat(c)})]})]})};function eK(e){return{id:e.model_id,name:e.display_name,description:e.description,context_length:e.context_length,pricing:{prompt:e.prompt_cost.toString(),completion:e.completion_cost.toString()},provider:{id:e.provider.name,name:e.provider.display_name},icon:({switchpoint:"\uD83D\uDD04",openai:"\uD83E\uDD16",anthropic:"\uD83C\uDFAD",google:"✨",mistralai:"\uD83C\uDF0A",moonshot:"\uD83C\uDF19"})[e.provider.name]||"\uD83D\uDD2E",maxTokens:e.context_length,inputPrice:e.prompt_cost,outputPrice:e.completion_cost,model_id:e.model_id,quality_score:e.quality_score,speed_score:e.speed_score,popularity_score:e.popularity_score,supports_functions:e.supports_functions,supports_vision:e.supports_vision,is_featured:e.is_featured}}function eY(e){return{id:e.id,content:e.content,role:e.role,timestamp:new Date(e.created_at),tokens:e.tokens_used,cost:e.cost,model:e.model_used,status:e.status,error_message:e.error_message}}let eQ={id:"switchpoint/openrouter-4b",name:"Switchpoint Router",description:"Intelligent routing to the best model for your request",context_length:128e3,pricing:{prompt:"0.5",completion:"1.5"},provider:{id:"switchpoint",name:"Switchpoint"},icon:"\uD83D\uDD04",maxTokens:128e3,inputPrice:.5,outputPrice:1.5};var eV=s(4311),eX=s(1981);function eZ(e){let{isOpen:t,onClose:s,messages:n,width:i}=e,[l,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),m=(0,r.useMemo)(()=>{let e=n.filter(e=>"assistant"===e.role);return 0===e.length?"# Welcome to FereeLAB Canvas\n\nThis panel displays formatted content from your conversations. As you chat with the AI, any markdown-formatted responses will appear here in a beautiful, readable format.\n\n## Features\n\n- **Live Updates**: Content updates as you receive new messages\n- **Markdown Rendering**: Full support for markdown formatting\n- **Copy to Clipboard**: Easily copy formatted content\n- **Export Options**: Download content as markdown files\n- **Responsive Design**: Adapts to different screen sizes\n\nStart a conversation to see your content appear here!":e.map((e,t)=>{let s=e.timestamp.toLocaleString();return"## Response ".concat(t+1,"\n*Generated at ").concat(s,"*\n\n").concat(e.content,"\n\n---\n")}).join("\n")},[n]),u=async()=>{try{await navigator.clipboard.writeText(m),o(!0),setTimeout(()=>{o(!1)},2e3)}catch(e){console.error("Failed to copy text: ",e)}};return t?(0,a.jsxs)("div",{className:U("h-full flex flex-col bg-background shadow-lg transition-all duration-300",c&&"fixed inset-0 z-50"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border flex-shrink-0 bg-muted/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Markdown Canvas"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded-full",children:[n.filter(e=>"assistant"===e.role).length," responses"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("button",{onClick:u,className:U("p-2 rounded-md hover:bg-muted transition-colors",l?"text-green-500":"text-muted-foreground"),title:"Copy all content",children:l?(0,a.jsx)(L.A,{size:18}):(0,a.jsx)(ep.A,{size:18})}),(0,a.jsx)("button",{onClick:()=>{let e=new Blob([m],{type:"text/markdown"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="fereelab-conversation-".concat(new Date().toISOString().split("T")[0],".md"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},className:"p-2 rounded-md hover:bg-muted transition-colors text-muted-foreground",title:"Download as markdown",children:(0,a.jsx)(eT.A,{size:18})}),(0,a.jsx)("button",{onClick:()=>d(!c),className:"p-2 rounded-md hover:bg-muted transition-colors text-muted-foreground",title:c?"Exit fullscreen":"Enter fullscreen",children:c?(0,a.jsx)(eV.A,{size:18}):(0,a.jsx)(eX.A,{size:18})}),(0,a.jsx)("button",{onClick:s,className:"p-2 rounded-md hover:bg-muted transition-colors text-muted-foreground",title:"Close canvas",children:(0,a.jsx)(es.A,{size:18})})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"p-6 max-w-none",children:(0,a.jsx)("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:(0,a.jsx)("pre",{className:"whitespace-pre-wrap text-sm leading-relaxed font-normal bg-background p-0 border-0",children:m})})})}),(0,a.jsx)("div",{className:"border-t border-border p-3 bg-muted/20",children:(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:[m.split("\n").length," lines • ",m.length," characters"]}),(0,a.jsxs)("span",{children:["Last updated: ",new Date().toLocaleTimeString()]})]})})]}):null}function e0(){let{panels:e,dimensions:t,chat:s,projects:i,usage:l,toggleSidebar:o,toggleCanvas:d,toggleModelPanel:m,toggleMarketplace:u,toggleUserMenu:x,toggleUsagePanel:p,closeAllPanels:h,handleSidebarResize:g,handleCanvasResize:f,sendMessage:v,editMessage:j,regenerateMessage:b,replyToMessage:y,cancelReply:N,handleApplyModels:w,startNewConversation:k,projectActions:C,switchToProjectChat:S,loadUsageDashboard:A}=function(){let[e,t]=(0,r.useState)({sidebar:!0,canvas:!1,modelPanel:!1,marketplace:!1,userMenu:!1,usagePanel:!1}),[s,a]=(0,r.useState)({sidebarWidth:280,canvasWidth:380}),[n,i]=(0,r.useState)({selectedModel:eQ,marketplaceModels:[],messages:[],replyTo:null,isLoading:!1,currentConversation:null}),[l,o]=(0,r.useState)({projects:[],activeProjectId:null,activeProjectChatId:null,conversations:[],isLoading:!1}),[c,d]=(0,r.useState)({dashboard:null,isLoading:!1,error:null}),[m,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{x(),p(),h()},[]),(0,r.useEffect)(()=>{let e=localStorage.getItem("sidebarWidth"),t=localStorage.getItem("canvasWidth");(e||t)&&a(s=>({sidebarWidth:e?parseInt(e,10):s.sidebarWidth,canvasWidth:t?parseInt(t,10):s.canvasWidth}))},[]),(0,r.useEffect)(()=>{localStorage.setItem("sidebarWidth",s.sidebarWidth.toString())},[s.sidebarWidth]),(0,r.useEffect)(()=>{localStorage.setItem("canvasWidth",s.canvasWidth.toString())},[s.canvasWidth]),(0,r.useEffect)(()=>{let e=()=>{window.innerWidth<768?t(e=>({...e,sidebar:!1})):t(e=>({...e,sidebar:!0}))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let x=(0,r.useCallback)(async()=>{try{let e=(await eA.getModels()).map(eK);i(t=>({...t,marketplaceModels:e,selectedModel:e[0]||eQ}))}catch(e){console.error("Failed to load marketplace models:",e),i(e=>({...e,selectedModel:eQ}))}},[]),p=(0,r.useCallback)(async()=>{o(e=>({...e,isLoading:!0}));try{let e=await eA.getConversations();o(t=>({...t,conversations:e,isLoading:!1,projects:[{id:"main-project",name:"Conversations",children:e.map(e=>({id:e.id,name:e.title,projectId:"main-project",conversation:e}))}]}))}catch(e){console.error("Failed to load conversations:",e),o(e=>({...e,isLoading:!1}))}},[]),h=(0,r.useCallback)(async()=>{d(e=>({...e,isLoading:!0,error:null}));try{let e=await eA.getUsageDashboard();d(t=>({...t,dashboard:e,isLoading:!1}))}catch(e){console.error("Failed to load usage dashboard:",e),d(t=>({...t,isLoading:!1,error:e instanceof Error?e.message:"Failed to load usage data"}))}},[]),g=(0,r.useCallback)(async e=>{try{let t=(await eA.getMessages(e)).map(eY);i(e=>({...e,messages:t}))}catch(e){console.error("Failed to load conversation messages:",e)}},[]),f=async(e,t)=>{i(e=>({...e,isLoading:!0}));let s={id:Date.now().toString(),content:e,role:"user",timestamp:new Date,animate:!0};t&&(s.content+=" [Attached: ".concat(t.name,"]")),i(e=>({...e,messages:[...e.messages,s],replyTo:null}));try{var a;let t=await eA.sendMessage({message:e,conversation_id:null==(a=n.currentConversation)?void 0:a.id,model_id:n.selectedModel.model_id||n.selectedModel.id,temperature:.7,max_tokens:2048});if(t.success){let e=eY(t.message);e.animate=!0,i(s=>({...s,messages:[...s.messages,e],currentConversation:t.conversation,isLoading:!1})),h()}else{let e={id:(Date.now()+1).toString(),content:"Error: ".concat(t.error||"Failed to send message"),role:"assistant",timestamp:new Date,status:"failed",error_message:t.error};i(t=>({...t,messages:[...t.messages,e],isLoading:!1}))}}catch(t){console.error("Failed to send message:",t);let e={id:(Date.now()+1).toString(),content:"Error: ".concat(t instanceof Error?t.message:"Failed to send message"),role:"assistant",timestamp:new Date,status:"failed",error_message:t instanceof Error?t.message:"Unknown error"};i(t=>({...t,messages:[...t.messages,e],isLoading:!1}))}},v=async e=>{try{let t=await eA.regenerateMessage(e),s=eY(t);s.animate=!0;let a=n.messages.findIndex(t=>t.id===e);-1!==a&&(i(e=>({...e,messages:[...e.messages.slice(0,a),s,...e.messages.slice(a+1)]})),h())}catch(e){console.error("Failed to regenerate message:",e)}},j=async e=>{try{await eA.createConversation({title:"New Chat ".concat(Date.now()),model_id:n.selectedModel.model_id||n.selectedModel.id}),p()}catch(e){console.error("Failed to create new chat:",e)}},b=async e=>{try{await eA.deleteConversation(e),o(t=>({...t,projects:t.projects.map(t=>{var s;return{...t,children:null==(s=t.children)?void 0:s.filter(t=>t.id!==e)}}),activeProjectChatId:t.activeProjectChatId===e?null:t.activeProjectChatId})),l.activeProjectChatId===e&&i(e=>({...e,messages:[],currentConversation:null}))}catch(e){console.error("Failed to delete conversation:",e)}},y=async(e,t)=>{o(s=>({...s,activeProjectId:e,activeProjectChatId:t}));let s=l.conversations.find(e=>e.id===t);s&&(i(e=>({...e,currentConversation:s})),await g(t))};return{panels:e,dimensions:s,chat:n,projects:l,usage:c,shouldStartNewConversation:m,consumeNewConversationFlag:()=>(u(!1),m),toggleSidebar:()=>t(e=>({...e,sidebar:!e.sidebar})),toggleCanvas:()=>t(e=>({...e,canvas:!e.canvas})),toggleModelPanel:()=>t(e=>({...e,modelPanel:!e.modelPanel})),toggleMarketplace:()=>t(e=>({...e,marketplace:!e.marketplace,modelPanel:!1})),toggleUserMenu:()=>t(e=>({...e,userMenu:!e.userMenu})),toggleUsagePanel:()=>t(e=>({...e,usagePanel:!e.usagePanel})),closeAllPanels:()=>t(e=>({...e,modelPanel:!1,marketplace:!1,userMenu:!1,usagePanel:!1})),handleSidebarResize:e=>{a(t=>({...t,sidebarWidth:e}))},handleCanvasResize:e=>{a(t=>({...t,canvasWidth:e}))},sendMessage:f,editMessage:(e,t)=>{i(s=>({...s,messages:s.messages.map(s=>s.id===e?{...s,content:t}:s)}))},regenerateMessage:v,replyToMessage:e=>{i(t=>{var s;return{...t,replyTo:(null==(s=t.replyTo)?void 0:s.id)===e.id?null:e}})},cancelReply:()=>{i(e=>({...e,replyTo:null}))},handleApplyModels:e=>{(0===n.marketplaceModels.length||e.length>0&&n.marketplaceModels.length>0&&e[0].id!==n.marketplaceModels[0].id)&&u(!0),i(t=>({...t,selectedModel:e[0]||eQ,marketplaceModels:e})),t(e=>({...e,marketplace:!1}))},startNewConversation:()=>{i(e=>({...e,messages:[],replyTo:null,currentConversation:null}))},projectActions:{addProject:()=>{console.log("Add project functionality would be implemented here")},addChat:j,renameProject:(e,t)=>{o(s=>({...s,projects:s.projects.map(s=>s.id===e?{...s,name:t}:s)}))},renameChat:(e,t)=>{o(s=>({...s,projects:s.projects.map(s=>{var a;return{...s,children:null==(a=s.children)?void 0:a.map(s=>s.id===e?{...s,name:t}:s)}})}))},deleteProject:e=>{o(t=>({...t,projects:t.projects.filter(t=>t.id!==e),activeProjectId:t.activeProjectId===e?null:t.activeProjectId,activeProjectChatId:t.activeProjectId===e?null:t.activeProjectChatId}))},deleteChat:b},switchToProjectChat:y,loadMarketplaceModels:x,loadConversations:p,loadUsageDashboard:h,loadConversationMessages:g}}(),{theme:M,setTheme:P}=(0,c.D)(),[_,L]=(0,r.useState)(!1),[z,T]=(0,r.useState)(!1),[E,I]=(0,r.useState)({top:0,right:0}),R=0===s.messages.length;(0,r.useEffect)(()=>{let e=()=>{L(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let F=()=>{k(),console.log("Starting new conversation")};return(0,a.jsxs)("div",{className:"h-screen flex overflow-hidden bg-background",children:[!_&&e.sidebar&&(0,a.jsx)("div",{className:"flex-shrink-0 transition-all duration-300 ease-in-out",children:(0,a.jsx)(eJ,{initialSize:t.sidebarWidth,minSize:240,maxSize:400,onResize:g,className:"panel-sidebar border-r-0",children:(0,a.jsx)(W,{onOpenSettings:()=>T(!0),onNewConversation:F})})}),_&&e.sidebar&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex",children:[(0,a.jsx)("div",{className:"flex-1 bg-black/20 backdrop-blur-sm",onClick:o}),(0,a.jsx)("div",{className:"w-[280px] h-full panel-sidebar border-r-0",children:(0,a.jsx)(W,{onOpenSettings:()=>T(!0),onNewConversation:F})})]}),!_&&e.sidebar&&(0,a.jsx)("div",{className:"w-3 panel-gap flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-px h-16 bg-gradient-to-b from-transparent via-border/30 to-transparent"})}),(0,a.jsxs)("div",{className:U("flex flex-col min-w-0 relative transition-all duration-500 ease-in-out flex-1 panel-chat",e.canvas&&!_&&"mr-0",e.canvas&&!_&&"pr-[".concat(t.canvasWidth+16,"px]")),style:{paddingRight:e.canvas&&!_?"".concat(t.canvasWidth+16,"px"):"0"},children:[(0,a.jsx)(et,{title:"FereeLAB Chat",currentModel:s.selectedModel,onToggleModelPanel:m,onNewConversation:F,onToggleSidebar:o,isSidebarOpen:e.sidebar,onUserMenuToggle:e=>{if(e){let t=e.currentTarget.getBoundingClientRect();I({top:t.bottom+8,right:window.innerWidth-t.right})}x()}}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:R?(0,a.jsxs)("div",{className:"h-full flex flex-col items-center justify-center px-6 relative",children:[(0,a.jsxs)("div",{className:"text-center mb-16 max-w-lg animate-fade-in surface-elevated rounded-2xl p-8 gradient-overlay-subtle",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-primary/20 to-primary/5 rounded-2xl flex items-center justify-center mx-auto mb-6 depth-2",children:(0,a.jsx)(n.A,{className:"w-8 h-8 text-primary"})}),(0,a.jsx)("h3",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent text-display",children:"Welcome to FereeLab Chat"}),(0,a.jsx)("p",{className:"text-muted-foreground text-lg text-body",children:"Choose a prompt below to get started, or type your own message"})]}),(0,a.jsx)("div",{className:"w-full max-w-2xl mb-20 animate-fade-in animation-delay-200",children:(0,a.jsx)(em,{onSuggestionClick:e=>{v(e)},isFloating:!1})})]}):(0,a.jsx)(ej,{messages:s.messages,onEditMessage:j,onRegenerate:b,onReply:y,replyTo:s.replyTo,onSuggestionClick:e=>{v(e)}})}),(0,a.jsx)("div",{className:"flex-shrink-0 p-4 bg-gradient-to-t from-background via-background to-transparent border-t border-border/50",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsx)(eu,{onSendMessage:v,selectedModel:s.selectedModel,replyTo:s.replyTo?{id:s.replyTo.id,content:s.replyTo.content,role:s.replyTo.role}:void 0,onCancelReply:N,onToggleCanvas:d,isCanvasOpen:e.canvas,isFloating:!1,isNewConversation:R})})})]})]}),!_&&e.canvas&&(0,a.jsx)("div",{className:U("fixed right-0 top-0 h-full panel-floating border-l border-border/50 transition-all duration-500 ease-in-out z-20 glass-strong",e.canvas?"animate-canvas-in":"animate-canvas-out"),style:{width:"".concat(t.canvasWidth,"px")},children:(0,a.jsx)(eJ,{initialSize:t.canvasWidth,minSize:300,maxSize:600,onResize:f,className:"h-full depth-transition",handlePosition:"left",children:(0,a.jsx)(eZ,{isOpen:e.canvas,onClose:d,messages:s.messages})})}),_&&e.canvas&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 panel-modal ".concat(e.canvas?"animate-slide-in-right":"animate-slide-out-right"),children:(0,a.jsx)(eZ,{isOpen:e.canvas,onClose:d,messages:s.messages})}),(0,a.jsx)(eN,{isOpen:e.modelPanel,onClose:m,selectedModel:s.selectedModel,onModelSelect:e=>{w([e])},onOpenMarketplace:u,selectedMarketplaceModels:s.marketplaceModels}),(0,a.jsx)(eM,{isOpen:e.marketplace,onClose:u,selectedModels:s.marketplaceModels.map(e=>e.id),onApplyModels:w}),(0,a.jsx)(O,{isOpen:e.userMenu,position:E,theme:M,setTheme:e=>P(e),onClose:()=>{x()},onOpenSettings:()=>{T(!0),h()},onOpenUsage:p}),e.usagePanel&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm",children:[(0,a.jsx)("div",{className:"fixed inset-0",onClick:p}),(0,a.jsxs)("div",{className:"relative w-full max-w-lg max-h-[90vh] bg-background rounded-xl shadow-xl border overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Usage Tracking"}),(0,a.jsx)("button",{onClick:p,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:"\xd7"})]}),(0,a.jsx)("div",{className:"overflow-y-auto",children:(0,a.jsx)(e$,{dashboard:l.dashboard,isLoading:l.isLoading,error:l.error,onRefresh:A})})]})]}),(0,a.jsx)(eq,{isOpen:z,onClose:()=>T(!1)})]})}},1794:(e,t,s)=>{Promise.resolve().then(s.bind(s,937))}},e=>{e.O(0,[542,441,964,358],()=>e(e.s=1794)),_N_E=e.O()}]);